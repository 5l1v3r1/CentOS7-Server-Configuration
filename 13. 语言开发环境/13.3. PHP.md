## 13.3. PHP

[PHP（Hypertext Preprocessor）](http://www.php.net/)是一种脚本语言，主要是用途在于处理动态网页，也包含了命令列执行接口（command line interface），或者产生图形使用者接口（GUI）程式。

### 13.3.1. PHP 5.6

在CentOS7官方库中的PHP版本是5.4，如果需要可使用RPM软件包安装5.6。

即使已经安装了5.4，也可以安装，因为5.6位于另一个路径上：

`yum --enablerepo=centos-sclo-rh -y install rh-php56` # 从SCLo安装

以上方式安装在`/opt`目录下，要使用它，加载以下环境变量：

`scl enable rh-php56 bash`

`php -v`

```
PHP 5.6.5 (cli) (built: Mar 23 2016 19:17:38)
Copyright (c) 1997-2014 The PHP Group
Zend Engine v2.6.0, Copyright (c) 1998-2014 Zend Technologies
```

`which php`

```
/opt/rh/rh-php56/root/usr/bin/php
```

如果想在登录时自动启用PHP 5.6，编辑`/etc/profile.d/rh-php56.sh`文件：

```
#!/bin/bash

source /opt/rh/rh-php56/enable
export X_SCLS="`scl enable rh-php56 'echo $X_SCLS'`"
```

要在Apache httpd上使用5.6，如下配置PHP-FPM：

`yum --enablerepo=centos-sclo-rh -y install rh-php56-php-fpm` # 从SCLo安装

编辑`/etc/httpd/conf.d/php.conf`文件：

```
# 如下更改
<FilesMatch \.php$>
#    SetHandler application/x-httpd-php
    SetHandler "proxy:fcgi://127.0.0.1:9000" 
</FilesMatch>
```

```
systemctl start rh-php56-php-fpm
systemctl enable rh-php56-php-fpm
systemctl restart httpd
```

如果你想5.6嵌入Apache httpd，配置如下：

`yum --enablerepo=centos-sclo-rh -y install rh-php56-php` # 从SCLo安装

编辑`/etc/httpd/conf.modules.d/10-php.conf`文件：

```
# 如下更改
<IfModule prefork.c>
  LoadModule php5_module /opt/rh/httpd24/root/usr/lib64/httpd/modules/librh-php56-php5.so
</IfModule>
```

`systemctl restart httpd`

`echo '<?php phpinfo(); ?>' > /opt/rh/httpd24/root/var/www/html/info.php` # 创建phpinfo以验证

`curl http://localhost/info.php | grep 'PHP Version' | tail -1 | sed -e 's/<[^>]*>//g'`

```
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100 68819    0 68819    0     0  5529k      0 --:--:-- --:--:-- --:--:-- 6109k
PHP Version 5.6.5
```

### 13.3.2. PHP 7.0




### 13.3.3. PHP 7.1








