## 2.4. Docker

[Docker](https://www.docker.com/)是操作系统级虚拟化工具，它可以在容器中自动部署应用程序。

### 2.4.1. 安装Docker

`yum -y install docker`

```
systemctl start docker
systemctl enable docker
```

下载官方镜像并创建一个容器，并在容器中输出“Welcome to the Docker World”：

`docker pull centos` # 下载centos镜像

```
Trying to pull repository docker.io/library/centos ...
latest: Pulling from library/centos
47d44cb6f252: Extracting     32 B/32 B
...
...
```

`docker run centos /bin/echo "Welcome to the Docker World"` # 在容器内部运行`echo`

```
Welcome to the Docker World
```

使用`i`和`t`选项连接到容器的交互会话，如下所示（如果从容器会话退出，则容器的进程结束）：

```
[root@dlp ~]# docker run -i -t centos /bin/bash
[root@06c8cbea8dc3 /]#  # 容器的控制台

bash-4.3# uname -a
Linux 06c8cbea8dc3 3.10.0-123.13.2.el7.x86_64 #1 SMP Thu Dec 18 14:09:13 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux
[root@06c8cbea8dc3 /]# exit
exit
[root@dlp ~]#  # 回到主机的控制台
```

如果要从容器会话中退出并保持容器的进程，按“Ctrl + p”和“Ctrl + q”：

```
[root@dlp ~]# docker run -i -t centos /bin/bash
[root@64241ed538ed /]#  # 按“Ctrl + p”和“Ctrl + q”回到主机的控制台
[root@dlp ~]#
```

`docker ps` # 显示docker进程

```
CONTAINER ID   IMAGE      COMMAND       CREATED         STATUS         PORTS  NAMES
64241ed538ed   centos:7   "/bin/bash"   35 seconds ago  Up 34 seconds         clever_bartik
```

```
[root@dlp ~]# docker attach 64241ed538ed  # 连接到容器的会话
[root@64241ed538ed /]#  # 已连接
```

`docker kill 64241ed538ed` # 从主机的控制台关闭容器的进程

`docker ps`

```
CONTAINER ID    IMAGE          COMMAND       CREATED          STATUS          PORTS     NAMES
```

### 2.4.2. 添加镜像
### 2.4.3. 访问容器

### 2.4.4. 使用Dockerfile
### 2.4.5. 使用Docker-Registry

### 2.4.6. 持久化存储
